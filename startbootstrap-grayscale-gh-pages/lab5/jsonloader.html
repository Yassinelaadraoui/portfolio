<html>
<head>
	<title>Ajax</title>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	
	<script>
		
//global varaibles

var nameList = "";
var emailList = "";

function loadPersons(){
	$.ajax({

		dataType: "jsonp",
		url: "https://imp-portfolio-demonstration.herokuapp.com/json/persons.jsonp"
	});
}


 // $('#loadBtn').dblclick(function() {
 // $("tdhead").empty();
 //  $("tdbody").empty();
 // });
// clear preloaded data after clicking the btn twice

function jsonCallback(data) {
	$('#tdhead').prepend("<tr><th>Firstname</th><th>Email</th></tr>");
	for(var i=0; i<data.length; i++){
		nameList = data[i].name;
		emailList = data[i].email;
		$('#tdbody').prepend("<tr><td>" +nameList+ "</td><td><a href='mailto:" +emailList+ "'>"+emailList+"</a></td></tr>");
	}  
}
	</script>
</head>
<body>
	<div class="container">
		<h3>Person lists</h3>
		
		<button class="btn btn-primary" onclick="loadPersons()" id="loadBtn">Load</button>
		<div id="result">
			<table class="table table-hover">
				<thead id="tdhead">

				</thead>
				<tbody id="tdbody">

				</tbody>
			</table>
		</div>
	</div>
</body>
</html>